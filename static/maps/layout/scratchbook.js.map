{"version":3,"file":"scratchbook.js","sources":["../../src/layout/scratchbook.js"],"names":["define","Frames","Backbone","View","extend","initialize","options","self","this","frames","visible","setElement","$el","buttonActive","collection","add","id","icon","tooltip","onclick","active","set","toggle","show_note","note_cls","_showWelcome","hide","onbeforeunload","length","buttonLoad","show","on","note","history_cache","$","ajax","url","Galaxy","root","user","type","done","response","show_welcome","JSON","parse","title","content","_makeWelcome","html","join","class","button","find","click","data","value","addDataset","dataset_id","current_dataset","currHistoryPanel","history_id","historyId","name","model","get","dataset_ids","each","push","_findDataset","dataset","offset","history_details","dataset_list","pos","indexOf","_loadDatasetOffset","frame","new_dataset_id","_loadDataset","new_dataset","config","trigger","_","menu","disabled","callback","require","DATA","Dataset","when","fetch","then","is_tabular","data_type","createTabularDatasetChunkedView","TabularDataset","toJSON","embedded","height","addTrackster","viz_id","visualization","trackster","viz","Visualization","ui","TracksterUI","frame_config","parent_elt","view_config","container","dbkey","stand_alone","latest_revision","drawables","view","d","hda_ldda","create_visualization","viewport","bookmarks","target","window","open","location","noscratchbook","$galaxy_main","parent","document","attr"],"mappings":"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"}