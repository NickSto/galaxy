{"version":3,"sources":["webpack:///./galaxy/scripts/apps/admin.js","webpack:///./galaxy/scripts/apps/panels/admin-panel.js"],"names":["jQuery","require","$","GalaxyApp","AdminPanel","Page","window","app","options","bootstrapped","Galaxy","debug","params","config","_","extend","active_view","page","View","Left","_l","Backbone","initialize","self","root","settings","message","status","model","Model","title","categories","Collection","items","url","enabled","is_tool_shed_installed","enable_beta_ts_api_install","installing_repository_ids","is_repo_installed","allow_user_impersonation","enable_quotas","setElement","_template","render","$el","empty","each","category","$section","_templateSection","attributes","$entries","find","get","item","undefined","append","addClass","attr","href","target","text","prop","join","toString","module","exports"],"mappings":"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","file":"admin.bundled.js","sourcesContent":["var jQuery = require( 'jquery' ),\n    $ = jQuery,\n    GalaxyApp = require( 'galaxy' ).GalaxyApp,\n    AdminPanel = require( './panels/admin-panel' ),\n    Page = require( 'layout/page' );\n\nwindow.app = function app( options, bootstrapped ){\n    window.Galaxy = new GalaxyApp( options, bootstrapped );\n    Galaxy.debug( 'admin app' );\n    Galaxy.params = Galaxy.config.params;\n    $(function(){\n        _.extend( options.config, { active_view : 'admin' } );\n        Galaxy.page = new Page.View( _.extend( options, {\n            Left : AdminPanel\n        } ) );\n    });\n};\n\n\n// WEBPACK FOOTER //\n// ./galaxy/scripts/apps/admin.js","var _l = require( 'utils/localization' );\n\nvar AdminPanel = Backbone.View.extend({\n    initialize: function( page, options ) {\n        var self = this;\n        this.page       = page;\n        this.root       = options.root;\n        this.config     = options.config;\n        this.settings   = options.settings;\n        this.message    = options.message;\n        this.status     = options.status;\n        this.model = new Backbone.Model({\n            title   : _l( 'Administration' )\n        });\n        this.categories = new Backbone.Collection([{\n            title : 'Server',\n            items : [ {\n                title   : 'Data types registry',\n                url     : 'admin/view_datatypes_registry'\n            },{\n                title   : 'Data tables registry',\n                url     : 'admin/view_tool_data_tables'\n            },{\n                title   : 'Display applications',\n                url     : 'admin/display_applications'\n            },{\n                title   : 'Manage jobs',\n                url     : 'admin/jobs'\n            } ]\n        },{\n            title : 'Tools and Tool Shed',\n            items : [ {\n                title   : 'Search Tool Shed',\n                url     : 'admin_toolshed/browse_tool_sheds',\n                enabled : self.settings.is_tool_shed_installed\n            },{\n                title   : 'Search Tool Shed (Beta)',\n                url     : 'admin_toolshed/browse_toolsheds',\n                enabled : self.settings.is_tool_shed_installed && self.config.enable_beta_ts_api_install\n            },{\n                title   : 'Monitor installing repositories',\n                url     : 'admin_toolshed/monitor_repository_installation?installing_repository_ids=' + self.settings.installing_repository_ids,\n                enabled : self.settings.installing_repository_ids\n            },{\n                title   : 'Manage installed tools',\n                url     : 'admin_toolshed/browse_repositories',\n                enabled : self.settings.is_repo_installed\n            },{\n                title   : 'Reset metadata',\n                url     : 'admin_toolshed/reset_metadata_on_selected_installed_repositories',\n                enabled : self.settings.is_repo_installed\n            },{\n                title   : 'Download local tool',\n                url     : 'admin/package_tool'\n            },{\n                title   : 'Tool lineage',\n                url     : 'admin/tool_versions'\n            },{\n                title   : 'Reload a tool\\'s configuration',\n                url     : 'admin/reload_tool'\n            },{\n                title   : 'Review tool migration stages',\n                url     : 'admin/review_tool_migration_stages'\n            },{\n                title   : 'View Tool Error Logs',\n                url     : 'admin/tool_errors'\n            },{\n                title   : 'Manage Display Whitelist',\n                url     : 'admin/sanitize_whitelist'\n            },{\n                title   : 'Manage Tool Dependencies',\n                url     : 'admin/manage_tool_dependencies'\n            } ]\n        },{\n            title : 'User Management',\n            items : [ {\n                title   : 'Users',\n                url     : 'admin/users'\n            },{\n                title   : 'Groups',\n                url     : 'admin/groups'\n            },{\n                title   : 'Roles',\n                url     : 'admin/roles'\n            },{\n                title   : 'API keys',\n                url     : 'userskeys/all_users'\n            },{\n                title   : 'Impersonate a user',\n                url     : 'admin/impersonate',\n                enabled : self.config.allow_user_impersonation\n            } ]\n        },{\n            title : 'Data',\n            items : [ {\n                title   : 'Quotas',\n                url     : 'admin/quotas',\n                enabled : self.config.enable_quotas\n            },{\n                title   : 'Data libraries',\n                url     : 'library_admin/browse_libraries'\n            },{\n                title   : 'Roles',\n                url     : 'admin/roles'\n            },{\n                title   : 'Local data',\n                url     : 'data_manager'\n            } ]\n        },{\n            title : 'Form Definitions',\n            items : [ {\n                title   : 'Form definitions',\n                url     : 'forms/browse_form_definitions'\n            } ]\n        },{\n            title : 'Sample Tracking',\n            items : [ {\n                title   : 'Sequencers and external services',\n                url     : 'external_service/browse_external_services'\n            },{\n                title   : 'Request types',\n                url     : 'request_type/browse_request_types'\n            },{\n                title   : 'Sequencing requests',\n                url     : 'requests_admin/browse_requests'\n            },{\n                title   : 'Find samples',\n                url     : 'requests_common/find_samples?cntrller=requests_admin'\n            } ]\n        }]);\n        this.setElement( this._template() );\n    },\n\n    render : function() {\n        var self = this;\n        this.$el.empty();\n        this.categories.each( function( category ) {\n            var $section = $( self._templateSection( category.attributes ) );\n            var $entries = $section.find( '.ui-side-section-body' );\n            _.each( category.get( 'items' ), function( item ) {\n                if ( item.enabled === undefined || item.enabled ) {\n                    $entries.append( $( '<div/>' ).addClass( 'ui-side-section-body-title' )\n                                                  .append( $( '<a/>' ).attr({\n                                                                href    : self.root + item.url,\n                                                                target  : 'galaxy_main' }).text( _l( item.title ) ) ) );\n                }\n            });\n            self.$el.append( $section );\n        });\n        this.page.$( '#galaxy_main' ).prop( 'src', this.root + 'admin/center?message=' + this.message + '&status=' + this.status );\n    },\n\n    _templateSection : function( options ) {\n        return [\n            '<div>',\n                '<div class=\"ui-side-section-title\">' + _l( options.title ) + '</div>',\n                '<div class=\"ui-side-section-body\"/>',\n            '</div>'\n        ].join('');\n    },\n\n    _template : function() {\n        return '<div class=\"ui-side-panel\"/>';\n    },\n\n    toString : function() { return 'adminPanel' }\n});\n\nmodule.exports = AdminPanel;\n\n\n// WEBPACK FOOTER //\n// ./galaxy/scripts/apps/panels/admin-panel.js"],"sourceRoot":""}